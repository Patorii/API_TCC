{
    "openapi": "3.0.0",
    "info":{
        "title": "API autoserv CICOM",
        "description": "Documentação da API do autoserv",
        "version": "1.0.0",
        "contact":{
            "email": "elcio@cicom.com.br"
        }
    },
    "paths": {
        "/signin":{
            "post": {
                "tags": ["User"],
                "summary": "Login - obter token",
                "description": "Faz o login e obtem um token",
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "email":{
                                        "type":"string",
                                        "required": true
                                    },
                                    "cod_cicom":{
                                        "type":"integer",
                                        "required": true
                                    },
                                    "senha":{
                                        "type":"string",
                                        "required": true
                                    }
                                },
                                "example":{
                                    "email": "teste@teste.com.br",
                                    "senha": "User@1",
                                    "cod_cicom": 1234
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "200":{
                        "description": "Login realizado",
                        "content":{
                            "application/json":{
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "token":{
                                            "type":"string"
                                        },
                                        "user":{
                                            "type":"object",
                                            "properties":{
                                                "nome":{
                                                    "type":"string"
                                                },
                                                "cod_usuario":{
                                                    "type":"string"
                                                },
                                                "cod_cicom":{
                                                    "type":"integer"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401":{
                        "description": "Usuário ou senha incorretos"
                    }
                }
            }
        },
        "/refresh-token":{
            "post": {
                "tags": ["User"],
                "summary": "Atualizar o token",
                "description": "Atualizar o token enviando um refresh token",
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "token":{
                                        "type":"string",
                                        "required": true
                                    }
                                },
                                "example":{
                                    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpYXQiOjE2NjE0MzE4NzcsImV4cCI6MTY2MjAzNjY3Nywic3ViIjoiMSwgNzIzOSJ9.Bpek"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "200":{
                        "description": "Novo token gerado com sucesso",
                        "content":{
                            "application/json":{
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "token":{
                                            "type":"string"
                                        },
                                        "refresh_token":{
                                            "type":"string"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401":{
                        "description": "Refresh Token não existe"
                    }
                }
            }
        },
        "/password/forgot":{
            "post": {
                "tags": ["User", "Password"],
                "summary": "Esqueceu senha",
                "description": "Solicita um email para recriar a senha",
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "email":{
                                        "type":"string",
                                        "required": true
                                    },
                                    "cod_cicom":{
                                        "type":"integer",
                                        "required": true
                                    }
                                },
                                "example":{
                                    "email": "teste@teste.com.br",
                                    "cod_cicom": 1234
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "200":{
                        "description": "E-mail de redefinição de senha enviado"
                    },
                    "400":{
                        "description": "Nenhum usuário encontrado com esse e-mail para o código cicom informado"
                    }
                }
            }
        },
        "/password/reset":{
            "post": {
                "tags": ["User", "Password"],
                "summary": "Redefinir senha",
                "description": "Redefinir senha com token enviado por e-mail",
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "token":{
                                        "type":"string",
                                        "required": true
                                    },
                                    "senha":{
                                        "type":"integer",
                                        "required": true
                                    }
                                },
                                "example":{
                                    "token": "b6f645b5-3362-416f-9b88-b2c6ce509",
                                    "senha": "nova@123"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "200":{
                        "description": "Senha redefinida com sucesso"
                    },
                    "400":{
                        "description": "Token incorreto"
                    },
                    "401":{
                        "description": "Token expirado. Solicite novamente"
                    },
                    "406":{
                        "description": "Complexidade da senha não atendida."
                    }
                }
            }
        },
        "/users":{
            "post": {
                "tags": ["User"],
                "summary": "Criar um novo usuário",
                "description": "Cria um novo usuário para o código cicom que está logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "nome":{
                                        "type":"string"
                                    },
                                    "login":{
                                        "type":"string"
                                    },
                                    "email":{
                                        "type":"string"
                                    },
                                    "senha":{
                                        "type":"string"
                                    }
                                },
                                "example":{
                                    "nome": "User name sample",
                                    "login": "userlogin",
                                    "email": "user@email.com",
                                    "senha": "User@1"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "201":{
                        "description": "Usuário criado com sucesso",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "nome":{
                                            "type":"string"
                                        },
                                        "login":{
                                            "type":"string"
                                        },
                                        "email":{
                                            "type":"string"
                                        },
                                        "cod_usuario":{
                                            "type":"string"
                                        },
                                        "cod_cicom":{
                                            "type":"integer"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400":{
                        "description":"O código do tipo de usuário deve ser informado."
                    },
                    "406":{
                        "description": "Complexidade da senha não atendida"
                    },
                    "409":{
                        "description": "Usuário já existe."
                    }
                }
            }
        },
        "/users/{cod_usuario}":{
            "post": {
                "tags": ["User"],
                "summary": "Atualizar dados de um usuário",
                "description": "Atualiza os dados de um usuário",
                "security": [
                    {"bearerAuth": []}
                ],
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "nome":{
                                        "type":"string"
                                    },
                                    "login":{
                                        "type":"string"
                                    },
                                    "email":{
                                        "type":"string"
                                    }
                                },
                                "example":{
                                    "nome": "New user name sample",
                                    "login": "New userlogin",
                                    "email": "newuser@email.com"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "201":{
                        "description": "Dados do usuário atualizados com sucesso"
                    },
                    "406":{
                        "description": "Usuário não localizado"
                    },
                    "409":{
                        "description": "Dados informados já são utilizados por outro usuário"
                    }
                }
            },
            "get": {
                "tags": ["User"],
                "summary": "Retorna lista de usuários",
                "description": "<ul><li><b>/users</b> - Retorna lista de todos usúarios ativos</li><li><b>/users/all</b> - Retorna lista de todos usuários</li><li><b>/users/[cod_usuario]</b> - Retorna usuário específico</li></ul>",
                "security": [
                    {"bearerAuth": []}
                ],
                "responses":{
                    "200":{
                        "description": "Sucesso",
                        "content":{
                            "application/json":{
                                "schema": {
                                    "type": "array",
                                    "itens":{
                                        "type": "object",
                                        "properties":{
                                            "nome":{
                                                "type":"string"
                                            },
                                            "login":{
                                                "type":"string"
                                            },
                                            "email":{
                                                "type":"string"
                                            }
                                            ,
                                            "ativo":{
                                                "type":"string"
                                            },
                                            "created_at":{
                                                "type":"string"
                                            },
                                            "updated_at":{
                                                "type":"string"
                                            },
                                            "cod_cicom":{
                                                "type":"integer"
                                            },
                                            "cod_usuario":{
                                                "type":"string"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "parameters":[
                {
                    "name": "cod_usuario",
                    "in": "path",
                    "description": "Código do usuário",
                    "required": false,
                    "schema":{
                        "type":"string"
                    }
                }
            ]
        },
        "/users/{cod_usuario}/type/{cod_tipo_usuario}":{
            "patch": {
                "tags": ["User"],
                "summary": "Alterar o tipo de um usuário",
                "description": "Altera o tipo de um usuário",
                "security": [
                    {"bearerAuth": []}
                ],
                "responses":{
                    "201":{
                        "description": "Tipo do usuário alterado com sucesso"
                    },
                    "403":{
                        "description": "Apenas usuários do tipo master podem alterar o tipo de um usuário para master"
                    },
                    "406":{
                        "description": "Usuário não localizado"
                    },
                    "409":{
                        "description": "Tipo de usuário informado não existe"
                    }
                }
            },
            "parameters":[
                {
                    "name": "cod_usuario",
                    "in": "path",
                    "description": "Código do usuário",
                    "required": true,
                    "schema":{
                        "type":"integer"
                    }
                },
                {
                    "name": "cod_tipo_usuario",
                    "in": "path",
                    "description": "Código do tipo de usuário",
                    "required": true,
                    "schema":{
                        "type":"integer"
                    }
                }
            ]
        },
        "/users/active/{cod_usuario}":{
            "patch": {
                "tags": ["User"],
                "summary": "Ativar ou inativar usuário",
                "description": "Ativar ou inativar usuário",
                "security": [
                    {"bearerAuth": []}
                ],
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "ativo":{
                                        "type":"string",
                                        "values": ["S", "N"]
                                    }
                                },
                                "example":{
                                    "ativo": "N"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "201":{
                        "description": "Dados do usuário atualizados com sucesso"
                    },
                    "400":{
                        "description": "Ativo deve ser informado com S ou N"
                    } ,
                    "406":{
                        "description": "Usuário não localizado"
                    }
                }
            },
            "parameters":[
                {
                    "name": "cod_usuario",
                    "in": "path",
                    "description": "Código do usuário",
                    "required": true,
                    "schema":{
                        "type":"integer"
                    }
                }
            ]
        },
        "/users/password/{cod_usuario}":{
            "patch": {
                "tags": ["User"],
                "summary": "Alterar a senha do usuário logado",
                "description": "Alterar a senha do usuário logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "senha_atual":{
                                        "type":"string"
                                    },
                                    "nova_senha":{
                                        "type":"string"
                                    }
                                },
                                "example":{
                                    "senha_atual": "Teste@123",
                                    "nova_senha": "Nova@123"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "200":{
                        "description": "Senha do usuário atualizada com sucesso"
                    },
                    "400":{
                        "description": "Só é possível atualizar a senha do usuário logado."
                    },
                    "401":{
                        "description": "Senha atual incorreta"
                    },
                    "406":{
                        "description": "Complexidade da senha não atendida.<br><b>ou</b>Usuário não localizado"
                    }
                }
            },
            "parameters":[
                {
                    "name": "cod_usuario",
                    "in": "path",
                    "description": "Código do usuário",
                    "required": true,
                    "schema":{
                        "type":"integer"
                    }
                }
            ]
        },
        "/users/{cod_usuario}/permissions":{
            "post": {
                "tags": ["User", "Permissions"],
                "summary": "Criar permissão específica para o usuário",
                "description": "Criar permissão específica para o usuário",
                "security": [
                    {"bearerAuth": []}
                ],
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "cod_permissao":{
                                        "type":"integer"
                                    },
                                    "permitido":{
                                        "type":"string",
                                        "values":["S","N"]
                                    }
                                },
                                "example":{
                                    "cod_permissao":3,
                                    "permitido":"S"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "201":{
                        "description": "Permissão específica criada com sucesso",
                        "content":{
                            "application/json":{
                                "schema": {
                                    "type": "array",
                                    "itens":{
                                        "type": "object",
                                        "properties":{
                                            "cod_usuario":{
                                                "type":"integer"
                                            },
                                            "cod_cicom":{
                                                "type":"integer"
                                            },
                                            "cod_permissao":{
                                                "type":"integer"
                                            },
                                            "permitido":{
                                                "type":"string"
                                            },
                                            "cod_permissao_usuario":{
                                                "type":"integer"
                                            }
                                        }
                                    }
                                },
                                "example":{
                                    "cod_usuario": 2,
                                    "cod_cicom": 7239,
                                    "cod_permissao": 3,
                                    "permitido": "S",
                                    "cod_permissao_usuario": 2
                                }
                            }
                        }
                    },
                    "403":{
                        "description": "Não é possível criar uma permissão para um usuário do tipo master"
                    },
                    "406":{
                        "description": "Usuário não localizado"
                    },
                    "409":{
                        "description": "Permissão já definida para esse usuário."
                    }
                }
            },
            "get": {
                "tags": ["User", "Permissions"],
                "summary": "Retorna as permissões do usuários",
                "description": "Retorna as permissões do usuários",
                "security": [
                    {"bearerAuth": []}
                ],
                "responses":{
                    "200":{
                        "description": "Sucesso",
                        "content":{
                            "application/json":{
                                "schema": {
                                    "type": "array",
                                    "itens":{
                                        "type": "object",
                                        "properties":{
                                            "cod_permissao_tipo":{
                                                "type":"integer"
                                            },
                                            "cod_cicom":{
                                                "type":"integer"
                                            },
                                            "cod_permissao":{
                                                "type":"integer"
                                            },
                                            "cod_tipo_usuario":{
                                                "type":"integer"
                                            },
                                            "permitido": {
                                                "type":"string"
                                            },
                                            "created_at":{
                                                "type":"string"
                                            },
                                            "updated_at":{
                                                "type":"string"
                                            },
                                            "descricao":{
                                                "type":"string"
                                            },
                                            "informacao":{
                                                "type":"string"
                                            },
                                            "setor":{
                                                "type":"string"
                                            },
                                            "cod_setor":{
                                                "type":"integer"
                                            },
                                            "cod_setor_pai":{
                                                "type":"integer"
                                            },
                                            "from_type":{
                                                "type":"string"
                                            }
                                        }
                                    }
                                },
                                "example":[{
                                    "cod_permissao_tipo": 4,
                                    "cod_cicom": 7239,
                                    "cod_permissao": 4,
                                    "cod_tipo_usuario": 1,
                                    "permitido": "N",
                                    "created_at": "2022-07-22T20:41:56.000Z",
                                    "updated_at": "2022-07-22T20:41:56.000Z",
                                    "descricao": "Alterar",
                                    "informacao": "Alterar dados de um produto.",
                                    "setor": "Produtos",
                                    "cod_setor": 3,
                                    "cod_setor_pai": -1,
                                    "from_type": true
                                },
                                {
                                    "cod_permissao_tipo": 3,
                                    "cod_cicom": 7239,
                                    "cod_permissao": 3,
                                    "cod_tipo_usuario": 1,
                                    "permitido": "S",
                                    "created_at": "2022-07-22T20:41:56.000Z",
                                    "updated_at": "2022-07-22T20:41:56.000Z",
                                    "descricao": "Cadastrar",
                                    "informacao": "Cadastrar novos produtos.",
                                    "setor": "Produtos",
                                    "cod_setor": 3,
                                    "cod_setor_pai": -1,
                                    "from_type": false
                                }
                                ]
                            }
                        }
                    }
                }
            },
            "parameters":[
                {
                    "name": "cod_usuario",
                    "in": "path",
                    "description": "Código do usuário",
                    "required": true,
                    "schema":{
                        "type":"integer"
                    }
                }
            ]
        },
        "/users/{cod_usuario}/permissions/{cod_permissao}":{
            "patch": {
                "tags": ["User", "Permissions"],
                "summary": "Alterar permissão específica do usuário",
                "description": "Alterar permissão específica do usuário",
                "security": [
                    {"bearerAuth": []}
                ],
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "permitido":{
                                        "type":"string",
                                        "values":["S","N"]
                                    }
                                },
                                "example":{
                                    "permitido":"S"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "201":{
                        "description": "Permissão específica alterada com sucesso",
                        "content":{
                            "application/json":{
                                "schema": {
                                    "type": "array",
                                    "itens":{
                                        "type": "object",
                                        "properties":{
                                            "cod_usuario":{
                                                "type":"integer"
                                            },
                                            "cod_cicom":{
                                                "type":"integer"
                                            },
                                            "cod_permissao":{
                                                "type":"integer"
                                            },
                                            "permitido":{
                                                "type":"string"
                                            },
                                            "cod_permissao_usuario":{
                                                "type":"integer"
                                            }
                                        }
                                    }
                                },
                                "example":{
                                    "cod_usuario": 2,
                                    "cod_cicom": 7239,
                                    "cod_permissao": 3,
                                    "permitido": "S",
                                    "cod_permissao_usuario": 2
                                }
                            }
                        }
                    },
                    "406":{
                        "description": "Permissão não localizada"
                    }
                }
            },
            "delete": {
                "tags": ["User", "Permissions"],
                "summary": "Apaga permissão específica do usuário",
                "description": "Apaga permissão específica do usuário",
                "security": [
                    {"bearerAuth": []}
                ],
                "responses":{
                    "200":{
                        "description": "A permissão específica foi excluída com sucesso."
                    }
                }
            },
            "parameters":[
                {
                    "name": "cod_usuario",
                    "in": "path",
                    "description": "Código do usuário",
                    "required": true,
                    "schema":{
                        "type":"integer"
                    }
                },
                {
                    "name": "cod_permissao",
                    "in": "path",
                    "description": "Código da permissão",
                    "required": true,
                    "schema":{
                        "type":"integer"
                    }
                }
            ]
        },
        "/users/types":{
            "post": {
                "tags": ["User Types"],
                "summary": "Criar um novo tipo de usuário",
                "description": "Cria um novo tipo usuário para o código cicom que está logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "descricao":{
                                        "type":"string"
                                    }
                                },
                                "example":{
                                    "descricao": "Vendedor"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "201":{
                        "description": "Tipo de usuário criado com sucesso",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "descricao":{
                                            "type":"string"
                                        },
                                        "cod_cicom":{
                                            "type":"integer"
                                        },
                                        "cod_tipo_usuario":{
                                            "type":"integer"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "409":{
                        "description": "Tipo de usuário já existe"
                    }
                }
            },
            "get": {
                "tags": ["User Types"],
                "summary": "Listar tipos de usuário",
                "description": "Lista todos os tipos de usuário do código cicom que está logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "responses":{
                    "200":{
                        "description": "Lista de tipos de usuário",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "descricao":{
                                            "type":"string"
                                        },
                                        "cod_cicom":{
                                            "type":"integer"
                                        },
                                        "cod_tipo_usuario":{
                                            "type":"integer"
                                        },
                                        "created_At":{
                                            "type":"string"
                                        },
                                        "updated_At":{
                                            "type":"string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/users/types/{cod_tipo_usuario}":{
            "post": {
                "tags": ["User Types"],
                "summary": "Atualiza os dados de um tipo de usuário",
                "description": "Atualiza os dados de um tipo usuário",
                "security": [
                    {"bearerAuth": []}
                ],
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "descricao":{
                                        "type":"string"
                                    }
                                },
                                "example":{
                                    "descricao": "Vendedor"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "201":{
                        "description": "Dados do tipo de usuário atualizados com sucesso",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "descricao":{
                                            "type":"string"
                                        },
                                        "cod_cicom":{
                                            "type":"integer"
                                        },
                                        "cod_tipo_usuario":{
                                            "type":"integer"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "406":{
                        "description": "O código de tipo de usuário informado não existe."
                    },
                    "409":{
                        "description": "O tipo de usuário <b>master</b>, não pode ser alterado."
                    }
                }
            },
            "delete": {
                "tags": ["User Types"],
                "summary": "Apaga um tipo de usuário",
                "description": "Apaga um tipo de usuário<br>O tipo não pode estar sendo utilizado por nenhum usuário para ser apagado.",
                "security": [
                    {"bearerAuth": []}
                ],
                "responses":{
                    "200":{
                        "description": "O tipo de usuário foi excluído com sucesso."
                    },
                    "406":{
                        "description": "O código de tipo de usuário informado não existe."
                    },
                    "409":{
                        "description": "O tipo de usuário está em uso.<br>O tipo de usuário <b>master</b>, não pode ser excluído."
                    }
                }
            },
            "parameters":[
                {
                    "name": "cod_tipo_usuario",
                    "in": "path",
                    "description": "Código do tipo de usuário",
                    "required": true,
                    "schema":{
                        "type":"integer"
                    }
                }
            ]
        },
        "/users/types/{cod_tipo_usuario}/permissions":{
            "get": {
                "tags": ["User Types", "Permissions"],
                "summary": "Listar as permissões do tipo de usuário",
                "description": "Listar as permissões do tipo de usuário",
                "security": [
                    {"bearerAuth": []}
                ],
                "responses":{
                    "200":{
                        "description": "Lista de permissões do tipo de usuário",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "cod_permissao_tipo":{
                                            "type":"integer"
                                        },
                                        "cod_cicom":{
                                            "type":"integer"
                                        },
                                        "cod_permissao":{
                                            "type":"integer"
                                        },
                                        "cod_tipo_usuario":{
                                            "type":"integer"
                                        },
                                        "permitido":{
                                            "type":"string"
                                        },
                                        "created_at":{
                                            "type":"string"
                                        },
                                        "updated_at":{
                                            "type":"string"
                                        },
                                        "descricao":{
                                            "type":"string"
                                        },
                                        "informacao":{
                                            "type":"string"
                                        },
                                        "setor":{
                                            "type":"string"
                                        },
                                        "cod_setor":{
                                            "type":"integer"
                                        },
                                        "cod_setor_pai":{
                                            "type":"integer"
                                        }
                                    }
                                }
                            }
                        },
                        "example":[
                            {
                                "cod_permissao_tipo": 8,
                                "cod_cicom": 7239,
                                "cod_permissao": 4,
                                "cod_tipo_usuario": 2,
                                "permitido": "N",
                                "created_at": "2022-07-28T17:39:57.000Z",
                                "updated_at": "2022-07-28T17:39:57.000Z",
                                "descricao": "Alterar",
                                "informacao": "Alterar dados de um produto.",
                                "setor": "Produtos",
                                "cod_setor": 3,
                                "cod_setor_pai": -1
                            },
                            {
                                "cod_permissao_tipo": 7,
                                "cod_cicom": 7239,
                                "cod_permissao": 3,
                                "cod_tipo_usuario": 2,
                                "permitido": "N",
                                "created_at": "2022-07-28T17:39:57.000Z",
                                "updated_at": "2022-07-28T17:39:57.000Z",
                                "descricao": "Cadastrar",
                                "informacao": "Cadastrar novos produtos.",
                                "setor": "Produtos",
                                "cod_setor": 3,
                                "cod_setor_pai": -1
                            }
                        ]
                    }
                }
            },
            "parameters":[
                {
                    "name": "cod_tipo_usuario",
                    "in": "path",
                    "description": "Código do tipo de usuário",
                    "required": true,
                    "schema":{
                        "type":"integer"
                    }
                }
            ]
        },
        "/users/types/{cod_tipo_usuario}/permissions/{cod_permissao}":{
            "patch": {
                "tags": ["User Types","Permissions"],
                "summary": "Alterar permissão do tipo de usuário",
                "description": "Alterar permissão do tipo de usuário",
                "security": [
                    {"bearerAuth": []}
                ],
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "permitido":{
                                        "type":"string",
                                        "values":["S","N"]
                                    }
                                },
                                "example":{
                                    "permitido":"S"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "201":{
                        "description": "Permissão do tipo de usuário alterada com sucesso",
                        "content":{
                            "application/json":{
                                "schema": {
                                    "type": "array",
                                    "itens":{
                                        "type": "object",
                                        "properties":{
                                            "cod_permissao_tipo":{
                                                "type":"integer"
                                            },
                                            "cod_cicom":{
                                                "type":"integer"
                                            },
                                            "cod_tipo_usuario":{
                                                "type":"integer"
                                            },
                                            "cod_permissao":{
                                                "type":"integer"
                                            },
                                            "permitido":{
                                                "type":"string"
                                            }
                                        }
                                    }
                                },
                                "example":{
                                    "cod_permissao_tipo": 3,
                                    "cod_cicom": 7239,
                                    "cod_tipo_usuario": 2,
                                    "cod_permissao": 3,
                                    "permitido": "S"
                                }
                            }
                        }
                    },
                    "403":{
                        "description":"Não é possível revogar uma permissão do tipo master"
                    },
                    "406":{
                        "description": "Permitido deve ser informado com S ou N"
                    },
                    "409":{
                        "description": "Permissão não localizada."
                    }
                }
            },
            "parameters":[
                {
                    "name": "cod_tipo_usuario",
                    "in": "path",
                    "description": "Código do tipo de usuário",
                    "required": true,
                    "schema":{
                        "type":"integer"
                    }
                },
                {
                    "name": "cod_permissao",
                    "in": "path",
                    "description": "Código da permissão",
                    "required": true,
                    "schema":{
                        "type":"integer"
                    }
                }
            ]
        },
        "/company":{
            "post": {
                "tags": ["Company"],
                "summary": "Alterar dados da empresa",
                "description": "Alterar dados da empresa",
                "security": [
                    {"bearerAuth": []}
                ],
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "cod_cicom":{
                                        "type":"integer"
                                    },
                                    "nome": {
                                        "type":"string"
                                    },
                                    "fantasia": {
                                        "type":"string"
                                    },
                                    "logradouro": {
                                        "type":"string"
                                    },
                                    "numero_logradouro": {
                                        "type":"string"
                                    },
                                    "bairro": {
                                        "type":"string"
                                    },
                                    "cidade": {
                                        "type":"string"
                                    },
                                    "cod_municipio_ibge": {
                                        "type":"string"
                                    },
                                    "cep": {
                                        "type":"string"
                                    },
                                    "uf": {
                                        "type":"string"
                                    },
                                    "complemento": {
                                        "type":"string"
                                    },
                                    "cnpj": {
                                        "type":"string"
                                    },
                                    "ie": {
                                        "type":"string"
                                    },
                                    "im": {
                                        "type":"string"
                                    },
                                    "regime_tributario":{
                                        "type":"integer"
                                    }

                                },
                                "example":{
                                    "cod_cicom": 7239,
                                    "nome": "ELCIO C. FREITAS",
                                    "fantasia": "ELCIO",
                                    "logradouro": "Avenida Teste",
                                    "numero_logradouro": "100",
                                    "bairro": "Vila Teste",
                                    "cidade": "São Paulo",
                                    "cod_municipio_ibge": "4317400",
                                    "cep": "05500000",
                                    "uf": "SP",
                                    "complemento": "",
                                    "cnpj": "00000000001",
                                    "ie": "00000000",
                                    "im": "",
                                    "regime_tributario": 2
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "201":{
                        "description": "Dados da empresa alterados com sucesso",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "cod_cicom":{
                                            "type":"integer"
                                        },
                                        "nome": {
                                            "type":"string"
                                        },
                                        "fantasia": {
                                            "type":"string"
                                        },
                                        "logradouro": {
                                            "type":"string"
                                        },
                                        "numero_logradouro": {
                                            "type":"string"
                                        },
                                        "bairro": {
                                            "type":"string"
                                        },
                                        "cidade": {
                                            "type":"string"
                                        },
                                        "cod_municipio_ibge": {
                                            "type":"string"
                                        },
                                        "cep": {
                                            "type":"string"
                                        },
                                        "uf": {
                                            "type":"string"
                                        },
                                        "complemento": {
                                            "type":"string"
                                        },
                                        "cnpj": {
                                            "type":"string"
                                        },
                                        "ie": {
                                            "type":"string"
                                        },
                                        "im": {
                                            "type":"string"
                                        },
                                        "regime_tributario":{
                                            "type":"integer"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400":{
                        "description":"O código cicom deve ser informado."
                    },
                    "406":{
                        "description": "Esse código cicom não está cadastrado."
                    }
                }
            },
            "get": {
                "tags": ["Company"],
                "summary": "Retorna os dados da empresa",
                "description": "Retorna os dados da empresa",
                "security": [
                    {"bearerAuth": []}
                ],
                "responses":{
                    "200":{
                        "description": "Dados da empresa",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "cod_cicom":{
                                            "type":"integer"
                                        },
                                        "nome": {
                                            "type":"string"
                                        },
                                        "fantasia": {
                                            "type":"string"
                                        },
                                        "logradouro": {
                                            "type":"string"
                                        },
                                        "numero_logradouro": {
                                            "type":"string"
                                        },
                                        "bairro": {
                                            "type":"string"
                                        },
                                        "cidade": {
                                            "type":"string"
                                        },
                                        "cod_municipio_ibge": {
                                            "type":"string"
                                        },
                                        "cep": {
                                            "type":"string"
                                        },
                                        "uf": {
                                            "type":"string"
                                        },
                                        "complemento": {
                                            "type":"string"
                                        },
                                        "cnpj": {
                                            "type":"string"
                                        },
                                        "ie": {
                                            "type":"string"
                                        },
                                        "im": {
                                            "type":"string"
                                        },
                                        "regime_tributario":{
                                            "type":"integer"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "406":{
                        "description": "Empresa não localizada."
                    }
                }
            }
        },
        "/products/manufactor":{
            "post": {
                "tags": ["Products"],
                "summary": "Criar um novo fabricante",
                "description": "Cria um novo fabricante para o código cicom que está logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "fabricante":{
                                        "type":"string"
                                    }
                                },
                                "example":{
                                    "fabricante": "Novo Fabricante"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "201":{
                        "description": "Fabricante criado com sucesso",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "cod_cicom":{
                                            "type":"integer"
                                        },
                                        "fabricante":{
                                            "type":"string"
                                        },
                                        "cod_fabricante":{
                                            "type":"integer"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "409":{
                        "description": "Fabricante já existe."
                    }
                }
            },
            "get": {
                "tags": ["Products"],
                "summary": "Retorna a lista de fabricantes",
                "description": "Retorna a lista dos fabricantes para o código cicom que está logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "responses":{
                    "200":{
                        "description": "Dados do fabricante",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "cod_fabricante":{
                                            "type":"integer"
                                        },
                                        "cod_cicom": {
                                            "type":"integer"
                                        },
                                        "fabricante": {
                                            "type":"string"
                                        },
                                        "created_At":{
                                            "type":"string"
                                        },
                                        "updated_At":{
                                            "type":"string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/products/manufactor/{ cod_fabricante }":{
            "get": {
                "tags": ["Products"],
                "summary": "Retorna os dados do fabricante",
                "description": "Retorna os dados do fabricante para o código cicom que está logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "responses":{
                    "200":{
                        "description": "Dados do fabricante",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "cod_fabricante":{
                                            "type":"integer"
                                        },
                                        "cod_cicom": {
                                            "type":"integer"
                                        },
                                        "fabricante": {
                                            "type":"string"
                                        },
                                        "created_At":{
                                            "type":"string"
                                        },
                                        "updated_At":{
                                            "type":"string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": ["Products"],
                "summary": "Atualizar o fabricante",
                "description": "Atualiza o fabricante para o código cicom que está logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "fabricante":{
                                        "type":"string"
                                    }
                                },
                                "example":{
                                    "fabricante": "Fabricante atualizado"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "201":{
                        "description": "Fabricante atualizado com sucesso",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "cod_cicom":{
                                            "type":"integer"
                                        },
                                        "fabricante":{
                                            "type":"string"
                                        },
                                        "cod_fabricante":{
                                            "type":"integer"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "409":{
                        "description": "Fabricante já existe."
                    }
                }
            },
            "delete": {
                "tags": ["Products"],
                "summary": "Apaga um fabricante",
                "description": "Apaga um fabricante para o código cicom que está logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "responses":{
                    "200":{
                        "description": "O fabricante foi excluído com sucesso."
                    },
                    "400":{
                        "description": "O código do fabricante deve ser informado.<br>Código do fabricante informado não localizado na lista."
                    }
                }
            }
        },
        "/products/manufactor/search":{
            "post": {
                "tags": ["Products"],
                "summary": "Pesquisar fabricantes",
                "description": "Pesquisa fabricantes para o código cicom que está logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "pesquisa":{
                                        "type":"string"
                                    }
                                },
                                "example":{
                                    "pesquisa": "Dado para pesquisa"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "201":{
                        "description": "Fabricantes localizados",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "cod_fabricante":{
                                            "type":"integer"
                                        },
                                        "cod_cicom": {
                                            "type":"integer"
                                        },
                                        "fabricante": {
                                            "type":"string"
                                        },
                                        "created_At":{
                                            "type":"string"
                                        },
                                        "updated_At":{
                                            "type":"string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "products/group":{
            "get": {
                "tags": ["Products"],
                "summary": "Retorna a lista de grupos",
                "description": "Retorna a lista dos grupos de produtos para o código cicom que está logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "responses":{
                    "200":{
                        "description": "Dados do grupo",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "cod_grupo":{
                                            "type":"integer"
                                        },
                                        "cod_cicom": {
                                            "type":"integer"
                                        },
                                        "grupo": {
                                            "type":"string"
                                        },
                                        "created_At":{
                                            "type":"string"
                                        },
                                        "updated_At":{
                                            "type":"string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": ["Products"],
                "summary": "Criar um novo grupo",
                "description": "Cria um novo grupo de produtos para o código cicom que está logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "grupo":{
                                        "type":"string"
                                    }
                                },
                                "example":{
                                    "grupo": "Novo Grupo"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "201":{
                        "description": "Grupo criado com sucesso",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "cod_cicom":{
                                            "type":"integer"
                                        },
                                        "grupo":{
                                            "type":"string"
                                        },
                                        "cod_grupo":{
                                            "type":"integer"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "409":{
                        "description": "Grupo já existe."
                    }
                }
            }
        },
        "/products/group/{ cod_grupo }":{
            "post": {
                "tags": ["Products"],
                "summary": "Atualizar o grupo",
                "description": "Atualiza o grupo para o código cicom que está logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "grupo":{
                                        "type":"string"
                                    }
                                },
                                "example":{
                                    "grupo": "Grupo atualizado"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "201":{
                        "description": "Grupo atualizado com sucesso",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "cod_cicom":{
                                            "type":"integer"
                                        },
                                        "grupo":{
                                            "type":"string"
                                        },
                                        "cod_grupo":{
                                            "type":"integer"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "409":{
                        "description": "Grupo já existe."
                    }
                }
            },
            "delete": {
                "tags": ["Products"],
                "summary": "Apaga um grupo",
                "description": "Apaga um grupo para o código cicom que está logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "responses":{
                    "200":{
                        "description": "O grupo foi excluído com sucesso."
                    },
                    "400":{
                        "description": "O código do grupo deve ser informado.<br>Código do grupo informado não localizado na lista."
                    }
                }
            }
        },
        "/products/group/{ cod_grupo }/subgroup":{
            "get": {
                "tags": ["Products"],
                "summary": "Retorna a lista de subgrupos",
                "description": "Retorna a lista dos subgrupos do grupo para o código cicom que está logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "responses":{
                    "200":{
                        "description": "Dados do subgrupo",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "cod_subgrupo":{
                                            "type":"integer"
                                        },
                                        "cod_cicom": {
                                            "type":"integer"
                                        },
                                        "cod_grupo": {
                                            "type":"integer"
                                        },
                                        "subgrupo": {
                                            "type":"string"
                                        },
                                        "created_At":{
                                            "type":"string"
                                        },
                                        "updated_At":{
                                            "type":"string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": ["Products"],
                "summary": "Criar um novo subgrupo",
                "description": "Cria um novo subgrupo do grupo para o código cicom que está logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "subgrupo":{
                                        "type":"string"
                                    }
                                },
                                "example":{
                                    "subgrupo": "Novo Subgrupo"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "201":{
                        "description": "Subgrupo criado com sucesso",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "cod_grupo":{
                                            "type":"integer"
                                        },
                                        "cod_cicom":{
                                            "type":"integer"
                                        },
                                        "grupo":{
                                            "type":"string"
                                        },
                                        "cod_subgrupo":{
                                            "type":"integer"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "409":{
                        "description": "Subgrupo já existe."
                    }
                }
            }
        },
        "/products/group/{ cod_grupo }/subgroup/{ cod_subgroup }":{
            "post": {
                "tags": ["Products"],
                "summary": "Atualizar o subgrupo",
                "description": "Atualiza o subgrupo do grupo para o código cicom que está logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "requestBody": {
                    "content":{
                        "application/json": {
                            "schema":{
                                "type": "object",
                                "properties":{
                                    "subgrupo":{
                                        "type":"string"
                                    }
                                },
                                "example":{
                                    "grupo": "Subgrupo atualizado"
                                }
                            }
                        }
                    }
                },
                "responses":{
                    "201":{
                        "description": "Subgrupo atualizado com sucesso",
                        "content":{
                            "application/json": {
                                "schema":{
                                    "type": "object",
                                    "properties":{
                                        "cod_grupo":{
                                            "type":"integer"
                                        },
                                        "cod_cicom":{
                                            "type":"integer"
                                        },
                                        "subgrupo":{
                                            "type":"string"
                                        },
                                        "cod_subgrupo":{
                                            "type":"integer"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "409":{
                        "description": "Subgrupo já existe."
                    }
                }
            },
            "delete": {
                "tags": ["Products"],
                "summary": "Apaga um subgrupo",
                "description": "Apaga um subgrupo do grupo para o código cicom que está logado",
                "security": [
                    {"bearerAuth": []}
                ],
                "responses":{
                    "200":{
                        "description": "O subgrupo foi excluído com sucesso."
                    },
                    "400":{
                        "description": "O código do subgrupo deve ser informado.<br>Código do subgrupo informado não localizado na lista."
                    }
                }
            }
        }
    },
    "definitions":{
        "Specification": {
            "type": "object",
            "properties":{
                "name":{
                    "type":"string"
                },
                "description":{
                    "type":"string"
                }
            }
        }
    },
    "components": {
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT"
            }
        }
    }
}
